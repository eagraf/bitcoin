base:  
  language: c++
  engine: libFuzzer
  docker_image: ubuntu:latest
  deps:
    - run: apt-get update
    - run: apt-get install -y autoconf bsdmainutils clang git libboost-system-dev libboost-filesystem-dev libboost-test-dev libc++1 libc++abi1 libc++abi-dev libc++-dev libclang1 libclang-dev libdb5.3++ libevent-dev libllvm-ocaml-dev libomp5 libomp-dev libqt5core5a libqt5dbus5 libqt5gui5 libtool llvm llvm-dev llvm-runtime pkg-config qttools5-dev qttools5-dev-tools software-properties-common
  steps:
    - run: ./autogen.sh
    - run: ./configure --enable-fuzz --with-sanitizers=address,fuzzer,undefined --enable-danger-fuzz-link-all --disable-dependency-tracking
    - run: make
    - run: git clone https://github.com/bitcoin-core/qa-assets
 
